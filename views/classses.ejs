<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/bookings.css"?>
<!DOCTYPE classes
[
<!ELEMENT classes(
  heading,
  class
  )>
  <!ELEMENT heading (#PCDATA)>
  <!ELEMENT class (class_name, trainer, class_times, difficulty, bookings)>
  <!ELEMENT class_name (#PCDATA)>
  <!ELEMENT trainer (name, username)>
  <!ELEMENT class_times (day, start_time, end_time)>
  <!ELEMENT day (#PCDATA)>
  <!ELEMENT start_time (#PCDATA)>
  <!ELEMENT end_time (#PCDATA)>
  <!ELEMENT difficulty (#PCDATA)>
  <!ELEMENT bookings (booking)>
  <!ELEMENT booking (booking_id, customer)>
  <!ELEMENT booking_id (#PCDATA)>
  <!ELEMENT customer (name, username)>
  <!ELEMENT name (#PCDATA)>
  <!ELEMENT username (#PCDATA)>
  ]>
  <classes>
    <heading>Current classes at High Street Gym</heading>
    <% for (let classListing of classListings) { %>
    <& const { class_name, trainer, day, start_time, end_time, difficulty, bookings } = classListing %>
    <class>
      <class_name><% class_name %></class_name>
      <trainer>
        <name><% trainer.name %></name>
        <username><% trainer.username  %></username>
      </trainer>
      <class_times>
        <day><% day %></day>
        <start_time><% start_time %></start_time>
        <end_time><% end_time %></end_time>
      </class_times>
      <difficulty><% difficulty %></difficulty>
      <bookings>
      <% for (let booking of bookings) { %>
        <booking>
          <booking_id><% booking.booking_id %></booking_id>
          <customer>
            <name><% booking.customer.name %></name>
            <username><% booking.customer.username %></username>
          </customer>
        </booking>
      <% } %>
      </bookings>
    </class>
    <% } %>
  </classes>